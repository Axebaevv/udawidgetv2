<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unified Deposit Address - Enclave</title>
    <link rel="icon" href="./assets/img/white_logo.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- QR Code Library -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div class="widget">
        <button class="close-btn"><i class="fas fa-times"></i></button>
        
        <img class="logo" src="./assets/img/white_logo.png" alt="Enclave Logo">

        
        <h1>Deposit From Any Chain</h1>
        <p class="subtitle">Enter your wallet to receive funds</p>

        <div class="section section1">
            <label class="label">
                <span><i class="fas fa-wallet"></i> Your Receiving Wallet</span>
                <span id="addressTypeBadge"></span>
            </label>
            <input 
                type="text" 
                id="walletAddress"
                placeholder="EVM or Solana address"
                value=""
            >
        </div>

        <div class="advanced-toggle-wrapper">
            <button id="advancedToggleBtn">
                Advanced Settings
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>

        <div class="advanced-settings" id="advancedSettings">
            <div class="section">
                <label class="label">
                    <i class="fas fa-network-wired"></i> Destination Chain
                </label>
                <div class="select-wrapper">
                    <select id="chainSelect">
                        <option value="8453">Base</option>
                        <option value="42161">Arbitrum</option>
                        <option value="43114">Avalanche</option>
                        <option value="1">Ethereum</option>
                        <option value="10">Optimism</option>
                        <option value="137">Polygon</option>
                        <option value="56">Binance Smart Chain</option>
                        <option value="130">Unichain</option>
                        <option value="480">Worldchain</option>
                        <option value="146">Sonic</option>
                        <option value="792703809">Solana</option>
                    </select>
                </div>
            </div>

            <div class="section">
                <label class="label">
                    <span><i class="fas fa-coins"></i> Token You'll Receive</span>
                </label>
                <div class="token-select-group">
                    <button class="token-btn active" data-token="USDC">USDC</button>
                    <!-- <button class="token-btn" data-token="SOL">SOL</button> -->
                    <button class="token-btn" data-token="OTHERS">Others</button>
                </div>
            </div>

            <div class="section">
                <label class="label">
                    <span><i class="fas fa-file-contract"></i> Token Contract Address</span>
                    <button class="quick-ref-btn" id="openRefBtn">
                        <i class="fas fa-book"></i> Quick Reference
                    </button>
                </label>
                <input 
                    type="text" 
                    id="tokenAddress"
                    placeholder="Token contract address"
                    value="0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"
                >
            </div>
        </div>
        
        <div class="status-message" id="statusMessage"></div>

        <button class="btn-primary" id="generateBtn">
            <i class="fas fa-edit"></i> Generate Deposit Addresses
        </button>


        <div class="deposit-addresses-container hidden" id="addressesContainer">
            <!-- EVM Deposit Address -->
            <div class="deposit-address-box">
                <div class="deposit-address-header">
                    <span class="chain-badge badge-evm-box">EVM address</span>
                </div>
                <div class="address-content">
                    <div class="qr-code-wrapper" id="evmQrWrapper" onclick="this.classList.add('revealed')">
                        <div class="qr-code-container" id="evmQrCode"></div>
                        <div class="qr-reveal-overlay">
                            <i class="fas fa-eye"></i>
                            Click to Reveal
                        </div>
                    </div>
                    <div class="address-info">
                        <div class="address-display" id="evmAddress">0x...</div>
                        <div class="address-actions">
                            <button class="btn-secondary" onclick="showCopyModal('evm')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Solana Deposit Address -->
            <div class="deposit-address-box">
                <div class="deposit-address-header">
                    <span class="chain-badge badge-solana-box">Solana address</span>
                </div>
                <div class="address-content">
                     <div class="qr-code-wrapper" id="solanaQrWrapper" onclick="this.classList.add('revealed')">
                        <div class="qr-code-container" id="solanaQrCode"></div>
                        <div class="qr-reveal-overlay">
                            <i class="fas fa-eye"></i>
                            Click to Reveal
                        </div>
                    </div>
                    <div class="address-info">
                        <div class="address-display" id="solanaAddress">...</div>
                        <div class="address-actions">
                            <button class="btn-secondary" onclick="showCopyModal('solana')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-box">
            <p class="info-text">
                <span class="info-highlight">Send from ANY chain:</span> Use the EVM address for Ethereum, Base, Arbitrum, etc. Use the Solana address for Solana network. Both addresses deliver funds to your <span id="selectedChainText">Base</span> wallet automatically!
            </p>
        </div>

        <div class="footer">
            Secured by
            <img src="./assets/img/Enclave_Wordmark_White.png" class="footer-logo" alt="Enclave Wordmark">
        </div>
    </div>

    <!-- Quick Reference Modal -->
    <div class="modal-overlay" id="tokenRefModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"><i class="fas fa-book"></i> Token Addresses</h2>
                <button class="modal-close" id="closeTokenRefModal"><i class="fas fa-times"></i></button>
            </div>
            
            <div id="tableContainer">
                <table class="token-table">
                    <thead>
                        <tr>
                            <th><i class="fas fa-link"></i> Chain</th>
                            <th><i class="fas fa-file-contract"></i> Contract Address</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="tokenTableBody"></tbody>
                </table>
            </div>

            <div class="empty-state hidden" id="emptyState">
                <div class="empty-state-icon"><i class="fas fa-edit"></i></div>
                <div class="empty-state-text">
                    For custom tokens, please enter the token contract address manually in the input field above.
                </div>
            </div>
        </div>
    </div>

    <!-- Copy Instruction Modal -->
    <div class="modal-overlay" id="copyInstructionModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="copyModalTitle"></h2>
                <button class="modal-close" id="closeCopyModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-content" id="copyModalContent"></div>
            <div class="modal-actions">
                 <button class="btn-secondary" id="acknowledgeCopyBtn">Acknowledge</button>
                 <button class="btn-primary" id="finalCopyBtn"><i class="fas fa-copy"></i> Copy Address</button>
            </div>
        </div>
    </div>

    <!-- Supported Chains Modal -->
    <div class="modal-overlay" id="chainsModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title"><i class="fas fa-link"></i> Supported EVM Chains</h2>
                <button class="modal-close" id="closeChainsModal"><i class="fas fa-times"></i></button>
            </div>
            <div class="modal-content">
                <ul class="chain-list">
                    <li>Arbitrum</li>
                    <li>Avalanche</li>
                    <li>Base</li>
                    <li>Binance Smart Chain</li>
                    <li>Ethereum</li>
                    <li>Optimism</li>
                    <li>Polygon</li>
                    <li>Sonic</li>
                    <li>Unichain</li>
                    <li>Worldchain</li>
                </ul>
            </div>
        </div>
    </div>

<script src="./js/script.js"></script>
</body>
</html>

